<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0/EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.mapper.BoardMapper">

	<resultMap type="com.spring.model.Board" id="resultMapBoard">
		<result column="board_idx" property="boardIdx"/>
		<result column="title" property="title"/>
		<result column="content" property="content"/>
		<result column="writer" property="writer"/>
		<result column="created_at" property="createdAt"/>
		<result column="updated_at" property="updatedAt"/>
	</resultMap>
	
	<select id="getboardList" resultMap="resultMapBoard">
		SELECT * FROM board
		WHERE boardIdx > 0
	</select>
	
	<insert id="insertBoard" useGeneratedKeys="true" keyProperty="boardIdx">
		INSERT INTO board (
			title,
			content,
			writer
		) VALUES (
			#{title},
			#{content},
			#{writer}
		)
	</insert>
	
	<select id="getBoard" resultMap="resultMapBoard">
		SELECT * FROM board
		WHERE board_idx = #{boardIdx}
	</select>
	
	<update id="updateBoard">
		UPDATE board SET
			title = #{title},
			content = #{content},
			updated_at = now()
		WHERE board_idx = #{boardIdx}
	</update>
	
	<delete id="deleteBoard">
		DELETE FROM board
		WHERE board_idx = #{boardIdx}
	</delete>

</mapper>